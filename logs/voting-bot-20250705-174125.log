2025-07-05 17:41:25,229 - INFO - =============================
2025-07-05 17:41:25,229 - INFO - Starting Voting Bot
2025-07-05 17:41:25,230 - INFO - =============================
2025-07-05 17:41:25,230 - DEBUG - VotingBot initialized
2025-07-05 17:41:25,230 - INFO - Starting bot with 2 minute intervals
2025-07-05 17:41:25,230 - INFO - Setting up scheduled voting every 2 minutes
2025-07-05 17:41:25,230 - INFO - =============================================
2025-07-05 17:41:25,230 - INFO - Starting voting cycle #1
2025-07-05 17:41:25,231 - INFO - =============================================
2025-07-05 17:41:25,231 - INFO - Starting vote on MDR
2025-07-05 17:41:25,231 - DEBUG - Setting up undetected browser...
2025-07-05 17:41:25,231 - DEBUG - Using user agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36
2025-07-05 17:41:25,231 - DEBUG - Launching undetected Chrome WebDriver...
2025-07-05 17:41:25,231 - DEBUG - getting release number from /latest-versions-per-milestone-with-downloads.json
2025-07-05 17:41:25,417 - DEBUG - downloading from https://storage.googleapis.com/chrome-for-testing-public/137.0.7151.119/mac-x64/chromedriver-mac-x64.zip
2025-07-05 17:41:46,213 - DEBUG - unzipping /var/folders/nw/tdhhbz510tv40212t1hqfwn00000gn/T/tmp6qjfloei
2025-07-05 17:41:46,315 - INFO - patching driver executable /Users/ebricks/Library/Application Support/undetected_chromedriver/undetected_chromedriver
2025-07-05 17:41:46,333 - DEBUG - found block:
b'{window.cdc_adoQpoasnfa76pfcZLmcfl_Array = window.Array;window.cdc_adoQpoasnfa76pfcZLmcfl_Object = window.Object;window.cdc_adoQpoasnfa76pfcZLmcfl_Promise = window.Promise;window.cdc_adoQpoasnfa76pfcZLmcfl_Proxy = window.Proxy;window.cdc_adoQpoasnfa76pfcZLmcfl_Symbol = window.Symbol;window.cdc_adoQpoasnfa76pfcZLmcfl_JSON = window.JSON;window.cdc_adoQpoasnfa76pfcZLmcfl_Window = window.Window;}'
replacing with:
b'{console.log("undetected chromedriver 1337!")}                                                                                                                                                                                                                                                                                                                                                             '
2025-07-05 17:41:46,335 - DEBUG - patching took us 0.02 seconds
2025-07-05 17:41:46,345 - DEBUG - Skipping Selenium Manager; path to chrome driver specified in Service class: /Users/ebricks/Library/Application Support/undetected_chromedriver/undetected_chromedriver
2025-07-05 17:41:46,349 - DEBUG - Started executable: `/Users/ebricks/Library/Application Support/undetected_chromedriver/undetected_chromedriver` in a child process with pid: 28183 using 0 to output -3
2025-07-05 17:41:48,284 - DEBUG - POST http://localhost:51724/session {'capabilities': {'firstMatch': [{}], 'alwaysMatch': {'browserName': 'chrome', 'pageLoadStrategy': <PageLoadStrategy.normal: 'normal'>, 'goog:chromeOptions': {'extensions': [], 'binary': '/Applications/Google Chrome.app/Contents/MacOS/Google Chrome', 'args': ['--no-sandbox', '--disable-dev-shm-usage', '--allow-file-access-from-files', '--disable-notifications', '--window-size=1920,1080', 'user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36', '--remote-debugging-host=127.0.0.1', '--remote-debugging-port=51723', '--user-data-dir=/var/folders/nw/tdhhbz510tv40212t1hqfwn00000gn/T/tmp9t5u9lrt', '--lang=en-US', '--no-default-browser-check', '--no-first-run', '--no-sandbox', '--test-type', '--headless=new', '--window-size=1920,1080', '--start-maximized', '--no-sandbox', '--log-level=0'], 'debuggerAddress': '127.0.0.1:51723'}}}}
2025-07-05 17:41:48,285 - DEBUG - Starting new HTTP connection (1): localhost:51724
2025-07-05 17:41:48,370 - DEBUG - http://localhost:51724 "POST /session HTTP/1.1" 200 0
2025-07-05 17:41:48,370 - DEBUG - Remote response: status=200 | data={"value":{"capabilities":{"acceptInsecureCerts":false,"browserName":"chrome","browserVersion":"137.0.7151.122","chrome":{"chromedriverVersion":"137.0.7151.119 (e0ac9d12dff5f2d33c935958b06bf1ded7f1c08c-refs/branch-heads/7151@{#2356})"},"fedcm:accounts":true,"goog:chromeOptions":{"debuggerAddress":"127.0.0.1:51723"},"pageLoadStrategy":"normal","platformName":"","proxy":{},"setWindowRect":false,"strictFileInteractability":false,"timeouts":{"implicit":0,"pageLoad":300000,"script":30000},"unhandledPromptBehavior":"dismiss and notify","webauthn:extension:credBlob":true,"webauthn:extension:largeBlob":true,"webauthn:extension:minPinLength":true,"webauthn:extension:prf":true,"webauthn:virtualAuthenticators":true},"sessionId":"325494583f7fb7d6545c5a4a7d46285d"}} | headers=HTTPHeaderDict({'Content-Length': '762', 'Content-Type': 'application/json; charset=utf-8', 'cache-control': 'no-cache'})
2025-07-05 17:41:48,371 - DEBUG - Finished Request
2025-07-05 17:41:48,371 - DEBUG - Browser setup successful
2025-07-05 17:41:48,371 - DEBUG - Navigating to https://www.mdr.de/sachsenradio/programm/deutschehitparade106.html
2025-07-05 17:41:48,371 - DEBUG - POST http://localhost:51724/session/325494583f7fb7d6545c5a4a7d46285d/execute/sync {'script': 'return navigator.webdriver', 'args': []}
2025-07-05 17:41:48,373 - DEBUG - http://localhost:51724 "POST /session/325494583f7fb7d6545c5a4a7d46285d/execute/sync HTTP/1.1" 404 0
2025-07-05 17:41:48,373 - DEBUG - Remote response: status=404 | data={"value":{"error":"no such window","message":"no such window: target window already closed\nfrom unknown error: web view not found\n  (Session info: chrome=137.0.7151.122)","stacktrace":"0   undetected_chromedriver             0x00000001052be358 undetected_chromedriver + 6136664\n1   undetected_chromedriver             0x00000001052b5aba undetected_chromedriver + 6101690\n2   undetected_chromedriver             0x0000000104d4a380 undetected_chromedriver + 418688\n3   undetected_chromedriver             0x0000000104d1eaa0 undetected_chromedriver + 240288\n4   undetected_chromedriver             0x0000000104dca8a8 undetected_chromedriver + 944296\n5   undetected_chromedriver             0x0000000104de972c undetected_chromedriver + 1070892\n6   undetected_chromedriver             0x0000000104dc1fc3 undetected_chromedriver + 909251\n7   undetected_chromedriver             0x0000000104d8e217 undetected_chromedriver + 696855\n8   undetected_chromedriver             0x0000000104d8ee81 undetected_chromedriver + 700033\n9   undetected_chromedriver             0x000000010527c220 undetected_chromedriver + 5866016\n10  undetected_chromedriver             0x000000010528018f undetected_chromedriver + 5882255\n11  undetected_chromedriver             0x00000001052575c2 undetected_chromedriver + 5715394\n12  undetected_chromedriver             0x0000000105280aef undetected_chromedriver + 5884655\n13  undetected_chromedriver             0x0000000105245d84 undetected_chromedriver + 5643652\n14  undetected_chromedriver             0x00000001052a32b8 undetected_chromedriver + 6025912\n15  undetected_chromedriver             0x00000001052a3480 undetected_chromedriver + 6026368\n16  undetected_chromedriver             0x00000001052b5681 undetected_chromedriver + 6100609\n17  libsystem_pthread.dylib             0x00007ff81afdadf1 _pthread_start + 99\n18  libsystem_pthread.dylib             0x00007ff81afd6857 thread_start + 15\n"}} | headers=HTTPHeaderDict({'Content-Length': '1940', 'Content-Type': 'application/json; charset=utf-8', 'cache-control': 'no-cache'})
2025-07-05 17:41:48,373 - DEBUG - Finished Request
2025-07-05 17:41:48,374 - ERROR - Failed to vote on MDR: Message: no such window: target window already closed
from unknown error: web view not found
  (Session info: chrome=137.0.7151.122)
Stacktrace:
0   undetected_chromedriver             0x00000001052be358 undetected_chromedriver + 6136664
1   undetected_chromedriver             0x00000001052b5aba undetected_chromedriver + 6101690
2   undetected_chromedriver             0x0000000104d4a380 undetected_chromedriver + 418688
3   undetected_chromedriver             0x0000000104d1eaa0 undetected_chromedriver + 240288
4   undetected_chromedriver             0x0000000104dca8a8 undetected_chromedriver + 944296
5   undetected_chromedriver             0x0000000104de972c undetected_chromedriver + 1070892
6   undetected_chromedriver             0x0000000104dc1fc3 undetected_chromedriver + 909251
7   undetected_chromedriver             0x0000000104d8e217 undetected_chromedriver + 696855
8   undetected_chromedriver             0x0000000104d8ee81 undetected_chromedriver + 700033
9   undetected_chromedriver             0x000000010527c220 undetected_chromedriver + 5866016
10  undetected_chromedriver             0x000000010528018f undetected_chromedriver + 5882255
11  undetected_chromedriver             0x00000001052575c2 undetected_chromedriver + 5715394
12  undetected_chromedriver             0x0000000105280aef undetected_chromedriver + 5884655
13  undetected_chromedriver             0x0000000105245d84 undetected_chromedriver + 5643652
14  undetected_chromedriver             0x00000001052a32b8 undetected_chromedriver + 6025912
15  undetected_chromedriver             0x00000001052a3480 undetected_chromedriver + 6026368
16  undetected_chromedriver             0x00000001052b5681 undetected_chromedriver + 6100609
17  libsystem_pthread.dylib             0x00007ff81afdadf1 _pthread_start + 99
18  libsystem_pthread.dylib             0x00007ff81afd6857 thread_start + 15
Traceback (most recent call last):
  File "/Users/ebricks/Desktop/vote-automation-bot/voting_bot.py", line 377, in vote_on_site
    driver.get(site["url"])
  File "/opt/anaconda3/envs/voting_bot/lib/python3.10/site-packages/undetected_chromedriver/__init__.py", line 496, in get_wrapped
    if self.execute_script("return navigator.webdriver"):
  File "/opt/anaconda3/envs/voting_bot/lib/python3.10/site-packages/selenium/webdriver/remote/webdriver.py", line 528, in execute_script
    return self.execute(command, {"script": script, "args": converted_args})["value"]
  File "/opt/anaconda3/envs/voting_bot/lib/python3.10/site-packages/selenium/webdriver/remote/webdriver.py", line 429, in execute
    self.error_handler.check_response(response)
  File "/opt/anaconda3/envs/voting_bot/lib/python3.10/site-packages/selenium/webdriver/remote/errorhandler.py", line 232, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchWindowException: Message: no such window: target window already closed
from unknown error: web view not found
  (Session info: chrome=137.0.7151.122)
Stacktrace:
0   undetected_chromedriver             0x00000001052be358 undetected_chromedriver + 6136664
1   undetected_chromedriver             0x00000001052b5aba undetected_chromedriver + 6101690
2   undetected_chromedriver             0x0000000104d4a380 undetected_chromedriver + 418688
3   undetected_chromedriver             0x0000000104d1eaa0 undetected_chromedriver + 240288
4   undetected_chromedriver             0x0000000104dca8a8 undetected_chromedriver + 944296
5   undetected_chromedriver             0x0000000104de972c undetected_chromedriver + 1070892
6   undetected_chromedriver             0x0000000104dc1fc3 undetected_chromedriver + 909251
7   undetected_chromedriver             0x0000000104d8e217 undetected_chromedriver + 696855
8   undetected_chromedriver             0x0000000104d8ee81 undetected_chromedriver + 700033
9   undetected_chromedriver             0x000000010527c220 undetected_chromedriver + 5866016
10  undetected_chromedriver             0x000000010528018f undetected_chromedriver + 5882255
11  undetected_chromedriver             0x00000001052575c2 undetected_chromedriver + 5715394
12  undetected_chromedriver             0x0000000105280aef undetected_chromedriver + 5884655
13  undetected_chromedriver             0x0000000105245d84 undetected_chromedriver + 5643652
14  undetected_chromedriver             0x00000001052a32b8 undetected_chromedriver + 6025912
15  undetected_chromedriver             0x00000001052a3480 undetected_chromedriver + 6026368
16  undetected_chromedriver             0x00000001052b5681 undetected_chromedriver + 6100609
17  libsystem_pthread.dylib             0x00007ff81afdadf1 _pthread_start + 99
18  libsystem_pthread.dylib             0x00007ff81afd6857 thread_start + 15

2025-07-05 17:41:48,376 - DEBUG - Closing browser
2025-07-05 17:41:48,522 - INFO - =============================================
2025-07-05 17:41:48,522 - INFO - Voting cycle #1 completed.
2025-07-05 17:42:19,905 - INFO - Successful votes: 0/1
2025-07-05 17:42:19,906 - INFO - Current stats: {'total_attempts': 1, 'successful_votes': 0, 'failed_votes': 1}
2025-07-05 17:42:19,906 - INFO - =============================================
2025-07-05 17:42:37,912 - INFO - =============================================
2025-07-05 17:42:37,912 - INFO - Voting bot stopped by user
2025-07-05 17:42:37,912 - INFO - Final stats: {'total_attempts': 1, 'successful_votes': 0, 'failed_votes': 1}
2025-07-05 17:42:37,912 - INFO - =============================================
